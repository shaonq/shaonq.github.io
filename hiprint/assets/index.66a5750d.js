import"./shaonq-vue.7644992f.js";/* empty css              */import{d as C,j as I,L as f,N as V,O as l,S as a,M as k,D as R,U as S,R as $,bN as A,bO as E,bP as F,bQ as B,bk as D,bl as U,bp as L,bA as N,bR as P,bn as z,bo as j,bt as O,a3 as T,bD as W}from"./arco.d8569e76.js";/* empty css              *//* empty css              *//* empty css              *//* empty css               */import{k as x,u as M,r as Q,_ as q}from"./index.a54e2e79.js";import"./vue.3094a546.js";import"./vxe.914a28ef.js";import"./bwip.e00d1624.js";import"./chart.f7e0e6d4.js";function G(y,s){return x.post("/api/user/upload",y,s)}const H=["src"],J={key:1},K=C({__name:"user-panel",setup(y){const s=M(),o={uid:"-2",name:"avatar.png",url:s.avatar},_=[{label:"userSetting.label.name",value:s.name},{label:"userSetting.label.accountId",value:s.accountId}],d=I([o]),e=(i,n)=>{d.value=[n]},r=i=>{const n=new AbortController;return async function(){const{onProgress:c,onError:b,onSuccess:g,fileItem:p,name:v="file"}=i;c(20);const m=new FormData;m.append(v,p.file);const t=u=>{let w;u.total>0&&(w=u.loaded/u.total*100),c(parseInt(String(w),10),u)};try{const u=await G(m,{controller:n,onUploadProgress:t});g(u)}catch(u){b(u)}}(),{abort(){n.abort()}}};return(i,n)=>{const h=Q,c=A,b=E,g=F,p=B,v=D,m=U;return f(),V(m,{bordered:!1,title:"\u4E2A\u4EBA\u4FE1\u606F"},{default:l(()=>[a(v,{size:54},{default:l(()=>[a(b,{"custom-request":r,"list-type":"picture-card","file-list":d.value,"show-upload-button":!0,"show-file-list":!1,onChange:e},{"upload-button":l(()=>[a(c,{size:100,class:"info-avatar"},{"trigger-icon":l(()=>[a(h)]),default:l(()=>[d.value.length?(f(),k("img",{key:0,src:d.value[0].url},null,8,H)):R("",!0)]),_:1})]),_:1},8,["file-list"]),a(p,{data:_,column:1,align:"right",layout:"inline-horizontal","label-style":{width:"140px",fontWeight:"normal",color:"rgb(var(--gray-8))"},"value-style":{width:"200px",paddingLeft:"8px",textAlign:"left"}},{label:l(({label:t})=>[S($(i.$t(t))+" :",1)]),value:l(({value:t,data:u})=>[u.label==="userSetting.label.certification"?(f(),V(g,{key:0,color:"green",size:"small"},{default:l(()=>n[0]||(n[0]=[S(" \u5DF2\u8BA4\u8BC1 ")])),_:1,__:[0]})):(f(),k("span",J,$(t),1))]),_:1})]),_:1})]),_:1})}}});const X=q(K,[["__scopeId","data-v-27af5dfd"]]),Y=C({__name:"basic-information",setup(y){const s=I(),o=I({email:"",nickname:"",countryRegion:"",area:"",address:"",profile:""}),_=async()=>{var e;await((e=s.value)==null?void 0:e.validate())},d=async()=>{var e;await((e=s.value)==null?void 0:e.resetFields())};return(e,r)=>{const i=L,n=N,h=P,c=z,b=j,g=O,p=T,v=D,m=W;return f(),V(m,{ref_key:"formRef",ref:s,model:o.value,class:"form",style:{width:"540px"},"label-col-props":{span:8},"wrapper-col-props":{span:16}},{default:l(()=>[a(n,{field:"email",label:e.$t("userSetting.basicInfo.form.label.email"),rules:[{required:!0,message:e.$t("userSetting.form.error.email.required")}]},{default:l(()=>[a(i,{modelValue:o.value.email,"onUpdate:modelValue":r[0]||(r[0]=t=>o.value.email=t),placeholder:e.$t("userSetting.basicInfo.placeholder.email")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"nickname",label:e.$t("userSetting.basicInfo.form.label.nickname"),rules:[{required:!0,message:e.$t("userSetting.form.error.nickname.required")}]},{default:l(()=>[a(i,{modelValue:o.value.nickname,"onUpdate:modelValue":r[1]||(r[1]=t=>o.value.nickname=t),placeholder:e.$t("userSetting.basicInfo.placeholder.nickname")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"countryRegion",label:e.$t("userSetting.basicInfo.form.label.countryRegion"),rules:[{required:!0,message:e.$t("userSetting.form.error.countryRegion.required")}]},{default:l(()=>[a(c,{modelValue:o.value.countryRegion,"onUpdate:modelValue":r[2]||(r[2]=t=>o.value.countryRegion=t),placeholder:e.$t("userSetting.basicInfo.placeholder.area")},{default:l(()=>[a(h,{value:"China"},{default:l(()=>r[6]||(r[6]=[S("\u4E2D\u56FD")])),_:1,__:[6]})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"area",label:e.$t("userSetting.basicInfo.form.label.area"),rules:[{required:!0,message:e.$t("userSetting.form.error.area.required")}]},{default:l(()=>[a(b,{modelValue:o.value.area,"onUpdate:modelValue":r[3]||(r[3]=t=>o.value.area=t),placeholder:e.$t("userSetting.basicInfo.placeholder.area"),options:[{label:"\u5317\u4EAC",value:"beijing",children:[{label:"\u5317\u4EAC",value:"beijing",children:[{label:"\u671D\u9633",value:"chaoyang"}]}]}],"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,{field:"address",label:e.$t("userSetting.basicInfo.form.label.address")},{default:l(()=>[a(i,{modelValue:o.value.address,"onUpdate:modelValue":r[4]||(r[4]=t=>o.value.address=t),placeholder:e.$t("userSetting.basicInfo.placeholder.address")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(n,{field:"profile",label:e.$t("userSetting.basicInfo.form.label.profile"),rules:[{maxLength:200,message:e.$t("userSetting.form.error.profile.maxLength")}],"row-class":"keep-margin"},{default:l(()=>[a(g,{modelValue:o.value.profile,"onUpdate:modelValue":r[5]||(r[5]=t=>o.value.profile=t),placeholder:e.$t("userSetting.basicInfo.placeholder.profile")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),a(n,null,{default:l(()=>[a(v,null,{default:l(()=>[a(p,{type:"primary",onClick:_},{default:l(()=>[S($(e.$t("userSetting.save")),1)]),_:1}),a(p,{type:"secondary",onClick:d},{default:l(()=>[S($(e.$t("userSetting.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}}),Z={class:"u-main u-h"},ee={name:"Setting"},ae=C({...ee,setup(y){return(s,o)=>{const _=U;return f(),k("div",Z,[a(X),a(_,{class:"u-mt",title:"\u8D26\u53F7\u8BBE\u7F6E"},{default:l(()=>[a(Y)]),_:1})])}}});const fe=q(ae,[["__scopeId","data-v-0d542ca1"]]);export{fe as default};
